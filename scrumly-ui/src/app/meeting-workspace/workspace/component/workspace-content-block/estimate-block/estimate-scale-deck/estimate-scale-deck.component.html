<div class="estimate-card-deck">
  <estimate-card
    class="estimate-card cursor-pointer absolute"
    *ngFor="let card of scaleMetadata?.scale; trackBy: trackByValue let i = index"
    [value]="card"
    (click)="onClick(card)"
    [style]="getTransform(i, card)"
    (mouseenter)="onHover(i, true)"
    (mouseleave)="onHover(i, false)">
  </estimate-card>
  <estimate-card
    class="estimate-card cursor-pointer absolute"
    styleClass="bg-gray-200 border-gray-500"
    [value]="'?'"
    (click)="onOpenCustomEstimate($event, op)"
    [style]="getTransform(scaleMetadata?.scale?.length! + 1, '?')"
    (mouseenter)="onHover(scaleMetadata?.scale?.length! + 1, true)"
    (mouseleave)="onHover(scaleMetadata?.scale?.length! + 1, false)">
  </estimate-card>
</div>


<p-overlayPanel #op>
  <div class="flex flex-column gap-3 w-25rem">
    <div>
      <span class="font-medium text-900 block mb-2">Provide estimate</span>
      <prime-input label="Estimate"
                   placeholder="Estimate"
                   [control]="estimateControl"/>
    </div>
    <div class="flex flex-row align-items-center justify-content-end gap-2">
      <p-button severity="secondary"
                size="small"
                label="Cancel"
                (onClick)="op.toggle($event)"></p-button>
      <p-button icon="pi pi-check"
                severity="success"
                size="small"
                label="Submit"
                (onClick)="onProvideCustomEstimate($event, op)"></p-button>
    </div>
  </div>
</p-overlayPanel>
